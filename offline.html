<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
        }
        .btn-primary {
            background: linear-gradient(to right, #4f46e5, #7c3aed);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 70, 229, 0.3);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4">
    <div class="w-full max-w-md mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl font-bold text-white mb-2">
                <i class="fas fa-mobile-alt mr-2"></i>
                ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
            </h1>
            <p class="text-gray-200">Ø§Ø®ØªØ± Ø±Ù…Ø² Ø§Ù„Ø¯ÙˆÙ„Ø© ÙˆØ£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ</p>
        </header>

        <!-- Ø¨Ø·Ø§Ù‚Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <div class="card rounded-2xl shadow-2xl p-6 mb-6">
            <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø© -->
            <div id="message" class="hidden p-4 rounded-lg mb-4 text-center"></div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ -->
            <div id="phone-auth-container">
                <div class="mb-6">
                    <label class="block text-gray-700 mb-2 font-medium">
                        <i class="fas fa-globe text-indigo-600 mr-2"></i>
                        Ø§Ø®ØªØ± Ø±Ù…Ø² Ø§Ù„Ø¯ÙˆÙ„Ø©
                    </label>
                    
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <button 
                            id="country-972" 
                            class="country-btn p-4 border-2 border-indigo-300 rounded-lg flex flex-col items-center bg-indigo-50 hover:bg-indigo-100 transition"
                            data-code="972"
                        >
                            <div class="text-2xl mb-2">ğŸ‡µğŸ‡¸</div>
                            <div class="font-bold text-gray-800">ÙÙ„Ø³Ø·ÙŠÙ†</div>
                            <div class="text-gray-600">+972</div>
                            <div class="text-sm text-gray-500 mt-1">59XXXXXXX</div>
                        </button>
                        
                        <button 
                            id="country-970" 
                            class="country-btn p-4 border-2 border-gray-200 rounded-lg flex flex-col items-center bg-white hover:bg-gray-50 transition"
                            data-code="970"
                        >
                            <div class="text-2xl mb-2">ğŸ‡µğŸ‡¸</div>
                            <div class="font-bold text-gray-800">ÙÙ„Ø³Ø·ÙŠÙ†</div>
                            <div class="text-gray-600">+970</div>
                            <div class="text-sm text-gray-500 mt-1">59XXXXXXX</div>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <label for="phone" class="block text-gray-700 mb-2 font-medium">
                            <i class="fas fa-phone text-indigo-600 mr-2"></i>
                            Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
                        </label>
                        <div class="flex">
                            <div id="country-code-display" class="flex items-center justify-center bg-gray-100 rounded-r-lg px-4 border border-gray-300 border-l-0 font-bold text-gray-700">
                                +972
                            </div>
                            <input 
                                type="tel" 
                                id="phone" 
                                class="w-full p-3 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition"
                                placeholder="59XXXXXXX"
                                dir="ltr"
                            >
                        </div>
                        <input type="hidden" id="country-code" value="972">
                    </div>
                    
                    <!-- Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ø§Ù…Ø© -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4">
                        <div class="flex items-start">
                            <i class="fas fa-exclamation-triangle text-yellow-500 mt-1 mr-2"></i>
                            <div>
                                <p class="text-sm text-yellow-800 font-medium">Ù…Ù„Ø§Ø­Ø¸Ø©:</p>
                                <p class="text-xs text-yellow-700">
                                    ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ø®Ø¯Ù…Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙÙŠ Firebase Console.
                                    Ø¨Ø¹Ø¶ Ø±Ù…ÙˆØ² Ø§Ù„Ø¯ÙˆÙ„ Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙƒÙˆÙŠÙ† Ø®Ø§Øµ.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button 
                    id="send-code-btn" 
                    class="btn-primary w-full text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center"
                >
                    <i class="fas fa-paper-plane mr-2"></i>
                    Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
                </button>
                
                <!-- Ø²Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ -->
                <div class="mt-4">
                    <button 
                        id="test-mode-btn" 
                        class="w-full bg-green-100 text-green-800 border border-green-300 font-medium py-2 px-4 rounded-lg flex items-center justify-center hover:bg-green-200 transition"
                    >
                        <i class="fas fa-flask mr-2"></i>
                        ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ (Ø¨Ø¯ÙˆÙ† Firebase)
                    </button>
                </div>
            </div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ -->
            <div id="verify-code-container" class="hidden">
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <div class="flex items-center">
                                <span id="verify-phone-number" class="font-medium text-lg">+972 59XXXXXXX</span>
                            </div>
                            <p class="text-sm text-gray-500">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù…</p>
                        </div>
                    </div>
                    
                    <label for="code" class="block text-gray-700 mb-2 font-medium">
                        <i class="fas fa-key text-indigo-600 mr-2"></i>
                        Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
                    </label>
                    <div class="flex justify-center space-x-2 mb-4">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                        <input type="text" maxlength="1" class="code-input w-12 h-12 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition">
                    </div>
                    <input type="hidden" id="verification-code">
                    <p class="text-sm text-gray-500 text-center">Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…</p>
                    <p class="text-xs text-gray-400 text-center mt-1">(ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ù…Ø²: 123456)</p>
                </div>
                
                <div class="flex space-x-3">
                    <button 
                        id="verify-code-btn" 
                        class="btn-primary flex-1 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center"
                    >
                        <i class="fas fa-check-circle mr-2"></i>
                        ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²
                    </button>
                    <button 
                        id="back-btn" 
                        class="flex-1 border border-gray-300 text-gray-700 font-bold py-3 px-4 rounded-lg flex items-center justify-center"
                    >
                        <i class="fas fa-arrow-right mr-2"></i>
                        Ø±Ø¬ÙˆØ¹
                    </button>
                </div>
                
                <div class="mt-4 text-center">
                    <p class="text-gray-600">Ù„Ù… ÙŠØµÙ„Ùƒ Ø§Ù„Ø±Ù…Ø²ØŸ</p>
                    <button id="resend-code-btn" class="text-indigo-600 font-medium mt-1">
                        Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² (<span id="countdown">60</span> Ø«Ø§Ù†ÙŠØ©)
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
        <div id="user-info" class="hidden card rounded-2xl shadow-2xl p-6">
            <div class="text-center">
                <div class="w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-check text-white text-2xl"></i>
                </div>
                <h2 class="text-xl font-bold text-gray-800 mb-1">Ù…Ø±Ø­Ø¨Ø§Ù‹</h2>
                <p id="user-phone" class="text-gray-700 mb-4">+972 59XXXXXXX</p>
                <p class="text-gray-600 mb-4">ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­</p>
                
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ¶Ø¹ -->
                <div id="demo-mode-info" class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 hidden">
                    <div class="flex items-start">
                        <i class="fas fa-info-circle text-blue-500 mt-1 mr-2"></i>
                        <div>
                            <p class="text-sm text-blue-800 font-medium">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</p>
                            <p class="text-xs text-blue-700">Ø£Ù†Øª ØªØ³ØªØ®Ø¯Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ ÙØ¹Ù„ÙŠ Ø¨Ù€ Firebase.</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-100 p-4 rounded-lg mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-gray-700"><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong></span>
                        <span id="user-email" class="text-sm font-medium">Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„</span>
                    </div>
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-gray-700"><strong>ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„:</strong></span>
                        <span id="login-time" class="text-sm font-medium">--:--</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-700"><strong>Ø§Ù„Ù…Ø¹Ø±Ù:</strong></span>
                        <span id="user-id" class="text-xs font-mono truncate max-w-[150px]">user-demo-id</span>
                    </div>
                </div>
                
                <button 
                    id="logout-btn" 
                    class="w-full bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-gray-300 transition"
                >
                    <i class="fas fa-sign-out-alt mr-2"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </div>
        
        <!-- Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Firebase -->
        <div class="bg-white bg-opacity-90 rounded-xl p-4 mt-6">
            <h3 class="font-bold text-gray-800 mb-2">
                <i class="fas fa-tools mr-2"></i>
                Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
            </h3>
            <ol class="text-sm text-gray-600 list-decimal list-inside space-y-1">
                <li>ØªÙØ¹ÙŠÙ„ Phone Authentication ÙÙŠ Firebase Console</li>
                <li>ØªÙƒÙˆÙŠÙ† reCAPTCHA (Ù‚Ø¯ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙØ¹ÙŠÙ„)</li>
                <li>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±ØµÙŠØ¯ Ù…Ø´Ø±ÙˆØ¹ Firebase (Ù‚Ø¯ ÙŠÙƒÙˆÙ† ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ)</li>
                <li>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„ØªØ¬Ø±Ø¨Ø© Ø­ØªÙ‰ ÙŠØªÙ… Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©</li>
            </ol>
        </div>
    </div>

    <script>
        // ØªÙƒÙˆÙŠÙ† Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBWfV0Z1yKxJ-lGJHzi5gStMGTE3CNxmMg",
            authDomain: "aasa-8a079.firebaseapp.com",
            projectId: "aasa-8a079",
            storageBucket: "aasa-8a079.firebasestorage.app",
            messagingSenderId: "849330713582",
            appId: "1:849330713582:web:7a11b11ebdb5cdcc8b14ff",
            measurementId: "G-LY2WSQ21GE"
        };

        // ØªÙ‡ÙŠØ¦Ø© Firebase
        let firebaseApp;
        let auth;
        let recaptchaVerifier;
        
        try {
            firebaseApp = firebase.initializeApp(firebaseConfig);
            auth = firebase.auth();
            console.log("Firebase initialized successfully");
        } catch (error) {
            console.error("Error initializing Firebase:", error);
        }

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let confirmationResult = null;
        let countdownInterval = null;
        let countdownTime = 60;
        let selectedCountryCode = "972";
        let isDemoMode = false; // Ù…ØªØºÙŠØ± Ù„ØªØªØ¨Ø¹ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ

        // Ø¹Ù†Ø§ØµØ± DOM
        const phoneInput = document.getElementById('phone');
        const sendCodeBtn = document.getElementById('send-code-btn');
        const verifyCodeBtn = document.getElementById('verify-code-btn');
        const resendCodeBtn = document.getElementById('resend-code-btn');
        const backBtn = document.getElementById('back-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const testModeBtn = document.getElementById('test-mode-btn');
        const phoneAuthContainer = document.getElementById('phone-auth-container');
        const verifyCodeContainer = document.getElementById('verify-code-container');
        const userInfoContainer = document.getElementById('user-info');
        const demoModeInfo = document.getElementById('demo-mode-info');
        const messageDiv = document.getElementById('message');
        const codeInputs = document.querySelectorAll('.code-input');
        const verificationCodeInput = document.getElementById('verification-code');
        const userPhoneSpan = document.getElementById('user-phone');
        const userEmailSpan = document.getElementById('user-email');
        const userIdSpan = document.getElementById('user-id');
        const loginTimeSpan = document.getElementById('login-time');
        const countryCodeInput = document.getElementById('country-code');
        const countryCodeDisplay = document.getElementById('country-code-display');
        const country972Btn = document.getElementById('country-972');
        const country970Btn = document.getElementById('country-970');
        const countdownSpan = document.getElementById('countdown');

        // Ø§Ø®ØªÙŠØ§Ø± Ø±Ù…Ø² Ø§Ù„Ø¯ÙˆÙ„Ø©
        function selectCountry(code) {
            selectedCountryCode = code;
            countryCodeInput.value = code;
            countryCodeDisplay.textContent = `+${code}`;
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¯ÙˆÙ„
            country972Btn.classList.remove('border-indigo-300', 'bg-indigo-50');
            country972Btn.classList.add('border-gray-200', 'bg-white');
            
            country970Btn.classList.remove('border-indigo-300', 'bg-indigo-50');
            country970Btn.classList.add('border-gray-200', 'bg-white');
            
            if (code === "972") {
                country972Btn.classList.remove('border-gray-200', 'bg-white');
                country972Btn.classList.add('border-indigo-300', 'bg-indigo-50');
            } else if (code === "970") {
                country970Btn.classList.remove('border-gray-200', 'bg-white');
                country970Btn.classList.add('border-indigo-300', 'bg-indigo-50');
            }
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚
        codeInputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                if (!/^\d*$/.test(e.target.value)) {
                    e.target.value = '';
                    return;
                }
                
                if (e.target.value && index < codeInputs.length - 1) {
                    codeInputs[index + 1].focus();
                }
                
                updateVerificationCode();
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !e.target.value && index > 0) {
                    codeInputs[index - 1].focus();
                }
            });
        });

        // ØªØ­Ø¯ÙŠØ« Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙƒØ§Ù…Ù„
        function updateVerificationCode() {
            let code = '';
            codeInputs.forEach(input => {
                code += input.value;
            });
            verificationCodeInput.value = code;
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
        function showMessage(text, type = 'info') {
            messageDiv.textContent = text;
            messageDiv.className = '';
            
            if (type === 'success') {
                messageDiv.classList.add('bg-green-100', 'text-green-800', 'border', 'border-green-300');
            } else if (type === 'error') {
                messageDiv.classList.add('bg-red-100', 'text-red-800', 'border', 'border-red-300');
            } else if (type === 'warning') {
                messageDiv.classList.add('bg-yellow-100', 'text-yellow-800', 'border', 'border-yellow-300');
            } else {
                messageDiv.classList.add('bg-blue-100', 'text-blue-800', 'border', 'border-blue-300');
            }
            
            messageDiv.classList.remove('hidden');
            
            if (type === 'success') {
                setTimeout(() => {
                    messageDiv.classList.add('hidden');
                }, 5000);
            }
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
        function hideMessage() {
            messageDiv.classList.add('hidden');
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        function startCountdown() {
            countdownTime = 60;
            resendCodeBtn.disabled = true;
            resendCodeBtn.classList.add('opacity-50', 'cursor-not-allowed');
            
            countdownInterval = setInterval(() => {
                countdownTime--;
                countdownSpan.textContent = countdownTime;
                
                if (countdownTime <= 0) {
                    clearInterval(countdownInterval);
                    resendCodeBtn.disabled = false;
                    resendCodeBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    countdownSpan.textContent = '0';
                }
            }, 1000);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        function validatePhoneNumber(phone) {
            if (!phone.trim()) {
                return { valid: false, message: 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ' };
            }
            
            // Ù†Ù…Ø· Ù„Ø±Ù‚Ù… Ù‡Ø§ØªÙ ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 5 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 9 Ø£Ø±Ù‚Ø§Ù…)
            const pattern = /^5[0-9]{8}$/;
            if (!pattern.test(phone.trim())) {
                return { 
                    valid: false, 
                    message: 'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­ (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 5 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 9 Ø£Ø±Ù‚Ø§Ù…)' 
                };
            }
            
            return { valid: true };
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ (ÙˆØ¶Ø¹ Firebase Ø§Ù„ÙØ¹Ù„ÙŠ)
        async function sendCodeWithFirebase() {
            const phoneNumber = phoneInput.value.trim();
            const fullPhoneNumber = `+${selectedCountryCode}${phoneNumber}`;
            
            hideMessage();
            showMessage(`Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ ${fullPhoneNumber}...`, 'info');
            sendCodeBtn.disabled = true;
            sendCodeBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            
            try {
                // Ø¥Ù†Ø´Ø§Ø¡ reCAPTCHA Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                if (!recaptchaVerifier) {
                    recaptchaVerifier = new firebase.auth.RecaptchaVerifier('send-code-btn', {
                        size: 'invisible',
                        callback: () => {
                            console.log("reCAPTCHA solved");
                        }
                    });
                }
                
                // Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² OTP
                confirmationResult = await auth.signInWithPhoneNumber(fullPhoneNumber, recaptchaVerifier);
                
                showMessage(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ ${fullPhoneNumber}`, 'success');
                
                // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù‚Ù‚
                document.getElementById('verify-phone-number').textContent = fullPhoneNumber;
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø²
                phoneAuthContainer.classList.add('hidden');
                verifyCodeContainer.classList.remove('hidden');
                
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª
                startCountdown();
                
                // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ù„Ù„Ø±Ù…Ø²
                codeInputs[0].focus();
                
            } catch (error) {
                console.error('Firebase error:', error);
                
                let errorMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²';
                
                // ØªØ­Ù„ÙŠÙ„ Ø£Ø®Ø·Ø§Ø¡ Firebase Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
                switch (error.code) {
                    case 'auth/invalid-phone-number':
                        errorMessage = 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù…Ø² Ø§Ù„Ø¯ÙˆÙ„Ø© ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ';
                        break;
                    case 'auth/too-many-requests':
                        errorMessage = 'Ù„Ù‚Ø¯ ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ù…Ù† Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹';
                        break;
                    case 'auth/quota-exceeded':
                        errorMessage = 'ØªÙ… ØªØ¬Ø§ÙˆØ² Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Firebase Console';
                        break;
                    case 'auth/operation-not-allowed':
                        errorMessage = 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± Ù…ÙØ¹Ù„ ÙÙŠ Firebase Console. ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„Ù‡ Ø£ÙˆÙ„Ø§Ù‹';
                        break;
                    case 'auth/network-request-failed':
                        errorMessage = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';
                        break;
                    default:
                        errorMessage = `Ø®Ø·Ø£: ${error.message}`;
                }
                
                showMessage(errorMessage, 'error');
                
                // Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
                setTimeout(() => {
                    showMessage('ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø®Ø¶Ø± Ø£Ø¯Ù†Ø§Ù‡', 'info');
                }, 3000);
                
            } finally {
                sendCodeBtn.disabled = false;
                sendCodeBtn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i> Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚';
            }
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ (ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ)
        function sendCodeDemoMode() {
            const phoneNumber = phoneInput.value.trim();
            const validation = validatePhoneNumber(phoneNumber);
            
            if (!validation.valid) {
                showMessage(validation.message, 'error');
                return;
            }
            
            const fullPhoneNumber = `+${selectedCountryCode}${phoneNumber}`;
            
            hideMessage();
            showMessage(`[ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ] ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² ØªØ­Ù‚Ù‚ ÙˆÙ‡Ù…ÙŠ Ø¥Ù„Ù‰ ${fullPhoneNumber}`, 'success');
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù‚Ù‚
            document.getElementById('verify-phone-number').textContent = fullPhoneNumber;
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø²
            phoneAuthContainer.classList.add('hidden');
            verifyCodeContainer.classList.remove('hidden');
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª
            startCountdown();
            
            // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ù„Ù„Ø±Ù…Ø²
            codeInputs[0].focus();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù…Ø² OTP (ÙˆØ¶Ø¹ Firebase Ø§Ù„ÙØ¹Ù„ÙŠ)
        async function verifyCodeWithFirebase() {
            const code = verificationCodeInput.value;
            
            if (code.length !== 6) {
                showMessage('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…', 'error');
                return;
            }
            
            hideMessage();
            showMessage('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø²...', 'info');
            verifyCodeBtn.disabled = true;
            verifyCodeBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
            
            try {
                // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²
                const result = await confirmationResult.confirm(code);
                const user = result.user;
                
                showMessage('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase!', 'success');
                
                // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø´Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const fullPhoneNumber = `+${selectedCountryCode}${phoneInput.value.trim()}`;
                userPhoneSpan.textContent = fullPhoneNumber;
                userEmailSpan.textContent = user.email || 'Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„';
                userIdSpan.textContent = user.uid;
                loginTimeSpan.textContent = new Date().toLocaleString('ar-SA');
                
                // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
                demoModeInfo.classList.add('hidden');
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                verifyCodeContainer.classList.add('hidden');
                userInfoContainer.classList.remove('hidden');
                
                // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                }
                
            } catch (error) {
                console.error('Firebase verification error:', error);
                
                let errorMessage = 'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­';
                if (error.code === 'auth/invalid-verification-code') {
                    errorMessage = 'Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©';
                }
                
                showMessage(errorMessage, 'error');
                
                // Ø§Ù‡ØªØ²Ø§Ø² Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
                codeInputs.forEach(input => {
                    input.classList.add('border-red-500');
                    setTimeout(() => {
                        input.classList.remove('border-red-500');
                    }, 1000);
                });
                
            } finally {
                verifyCodeBtn.disabled = false;
                verifyCodeBtn.innerHTML = '<i class="fas fa-check-circle mr-2"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù…Ø²';
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù…Ø² OTP (ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ)
        function verifyCodeDemoMode() {
            const code = verificationCodeInput.value;
            
            if (code.length !== 6) {
                showMessage('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù…', 'error');
                return;
            }
            
            // ÙÙŠ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØŒ Ø£ÙŠ Ø±Ù…Ø² Ù…ÙƒÙˆÙ† Ù…Ù† 6 Ø£Ø±Ù‚Ø§Ù… Ù…Ù‚Ø¨ÙˆÙ„
            // ÙˆÙ„ÙƒÙ† Ù†ÙØ¶Ù„ Ø§Ù„Ø±Ù…Ø² 123456 Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªØ°ÙƒØ±
            hideMessage();
            showMessage('ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­ (ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ)', 'success');
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø´Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const fullPhoneNumber = `+${selectedCountryCode}${phoneInput.value.trim()}`;
            userPhoneSpan.textContent = fullPhoneNumber;
            userEmailSpan.textContent = 'user@demo.com';
            userIdSpan.textContent = 'demo-user-' + Date.now();
            loginTimeSpan.textContent = new Date().toLocaleString('ar-SA');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
            demoModeInfo.classList.remove('hidden');
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            verifyCodeContainer.classList.add('hidden');
            userInfoContainer.classList.remove('hidden');
            
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        country972Btn.addEventListener('click', () => selectCountry("972"));
        country970Btn.addEventListener('click', () => selectCountry("970"));

        sendCodeBtn.addEventListener('click', () => {
            const phoneNumber = phoneInput.value.trim();
            const validation = validatePhoneNumber(phoneNumber);
            
            if (!validation.valid) {
                showMessage(validation.message, 'error');
                phoneInput.focus();
                return;
            }
            
            if (isDemoMode) {
                sendCodeDemoMode();
            } else {
                sendCodeWithFirebase();
            }
        });

        verifyCodeBtn.addEventListener('click', () => {
            if (isDemoMode) {
                verifyCodeDemoMode();
            } else {
                verifyCodeWithFirebase();
            }
        });

        testModeBtn.addEventListener('click', () => {
            isDemoMode = true;
            showMessage('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase.', 'success');
            testModeBtn.classList.remove('bg-green-100', 'text-green-800', 'border-green-300');
            testModeBtn.classList.add('bg-green-500', 'text-white');
            testModeBtn.innerHTML = '<i class="fas fa-check mr-2"></i> Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…ÙØ¹Ù„';
        });

        resendCodeBtn.addEventListener('click', () => {
            if (isDemoMode) {
                showMessage('[ÙˆØ¶Ø¹ ØªØ¬Ø±ÙŠØ¨ÙŠ] ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙˆÙ‡Ù…ÙŠ', 'info');
                startCountdown();
                
                // Ù…Ø³Ø­ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø±Ù…Ø²
                codeInputs.forEach(input => input.value = '');
                updateVerificationCode();
                codeInputs[0].focus();
            } else {
                // ÙÙŠ ÙˆØ¶Ø¹ FirebaseØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø²
                // Ù„ÙƒÙ† Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ reCAPTCHA
                showMessage('Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙÙŠ ÙˆØ¶Ø¹ FirebaseØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©', 'warning');
            }
        });

        backBtn.addEventListener('click', () => {
            verifyCodeContainer.classList.add('hidden');
            phoneAuthContainer.classList.remove('hidden');
            hideMessage();
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
                resendCodeBtn.disabled = false;
                resendCodeBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        });

        logoutBtn.addEventListener('click', () => {
            isDemoMode = false;
            userInfoContainer.classList.add('hidden');
            phoneAuthContainer.classList.remove('hidden');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
            testModeBtn.classList.remove('bg-green-500', 'text-white');
            testModeBtn.classList.add('bg-green-100', 'text-green-800', 'border-green-300');
            testModeBtn.innerHTML = '<i class="fas fa-flask mr-2"></i> ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ (Ø¨Ø¯ÙˆÙ† Firebase)';
            
            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            phoneInput.value = '';
            codeInputs.forEach(input => input.value = '');
            updateVerificationCode();
            selectCountry("972");
            
            showMessage('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
        });

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Firebase Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', () => {
            selectCountry("972");
            
            // ÙØ­Øµ Ø¥Ø°Ø§ ÙƒØ§Ù† Firebase ÙŠØ¹Ù…Ù„
            if (!auth) {
                showMessage('Firebase ØºÙŠØ± Ù…Ù‡ÙŠØ¦ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­. Ø¬Ø§Ø±Ù ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹.', 'warning');
                isDemoMode = true;
                testModeBtn.click();
            }
            
            // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù‡Ø§ØªÙ
            phoneInput.focus();
        });
    </script>
</body>
</html>